<section class="splash">
    <div class="container">
        <div class="container-fluid">
            <h1 class="intro-title">RATE CELLAR.</h1>
            <h1 class="intro-description">Pick
                <color style="color: rgb(51, 122, 183)">A</color>
                to
                <color style="color: rgb(51, 122, 183)">B</color>, to see your
                <color style="color: rgb(51, 122, 183)">C</color>ost!</h1>

            <hr>
            <%= search_form_for @search do |f| %>
            <div class="row">
                <div class="col-md-6">
                    <div class="field">
                        <h4>ORIGIN</h4>
                        <div><%= f.text_field :origin_country_country_code_or_origin_name_or_origin_port_code_cont, placeholder: "Ex: BAL, Port of Baltimore, Baltimore", class: "input-lg form-control" %></div>
                        <%= f.collection_select :origin_country_id_eq_any, Country.order('name ASC'), :id, :name, class: "form-control", include_blank: true, prompt: "Origin Country (Optional)" %>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="field">
                        <h4>DESTINATION</h4>
                        <%= f.text_field :destination_country_country_code_or_destination_name_or_destination_port_code_cont, placeholder: "Ex: PVG, Port of Shanghai, Shanghai", class: "input-lg form-control" %>
                        <%= f.collection_select :destination_country_id_eq_any, Country.order('name ASC'), :id, :name, class: "form-control", include_blank: true, prompt: "Destination Country (Optional)" %>
                    </div>
                </div>
            </div>
            <div class="row">
                <br>

                <div class="col-md-3">
                    <div class="field">
                        <h4>SHIPMENT TYPE</h4>
                        <%= f.collection_select :shipment_category_shipment_type_id_eq_any, ShipmentType.all, :id, :name, :include_blank => true, :multiple => true, :prompt => "Select Shipment Type",  class: "form-control"%>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="field">
                        <h4>SHIPMENT CATEGORY</h4>
                        <%= f.collection_select :shipment_category_id_eq_any, ShipmentCategory.all, :id, :name, :include_blank => true, :multiple => true, :prompt => "Select Category Type",  class: "form-control"%>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="field">
                        <h4>Unit of Measure</h4>
                        <%= f.collection_select :unit_of_measure_id_eq_any, UnitOfMeasure.all, :id, :name, :prompt => "Select Unit of Measure", :include_blank => true, class: "form-control" %>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="field">
                        <h4>CARRIER</h4>
                        <%= f.text_field :carrier_name_cont, placeholder: "Ex: United Cargo, Carotrans, Seacorp", class: "input-lg form-control" %>
                    </div>
                </div>
            </div>
            <br>

            <br>
            <div class="row">
                <div class="col-md-3 col-xs-12">
                    <button class="actions btn btn-lg btn-primary">Submit<% f.submit "Search"%></button>
                    <%= link_to "Clear", request.path, class: "btn btn-lg btn-warning"%>
                </div>
                <div class="col-md-3 col-xs-12"></div>
            </div>
        </div>
        <% end %>

    </div>
</section>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <ul class="list-inline">
                <h4>Sort by:</h4>
                <li><%= sort_link(@search, :origin_port_code, "Origin Port Code") %></li>
                |
                <li><%= sort_link(@search, :destination_port_code, "Destination Port Code") %></li>
                |
                <li><%= sort_link(@search, :origin_name, "Origin Name") %></li>
                |
                <li><%= sort_link(@search, :destination_name, "Destination Name") %></li>
                |
                <li><%= sort_link(@search, :carrier_name, "Carrier") %></li>
                |
                <li><%= sort_link(@search, :shipment_category_name, "Shipment Category") %></li>
                |
                <li><%= sort_link(@search, :cost, "Cost") %></li>
                |
                <li><%= sort_link(@search, :unit_of_measure_name, "Unit of Measure") %></li>
            </ul>
        </div>
        <div class="col-sm-12">
            <div id="no-more-tables">
                <table class="table table-bordered table-striped table-condensed cf">
                    <thead class="cf">
                        <tr>
                            <th>Origin</th>
                            <th>Destination</th>
                            <th>Carrier</th>
                            <th>Shipment category</th>
                            <th>Cost</th>
                            <th>Unit of measure</th>
                            <th>Date Added</th>
                            <th colspan="3"></th>
                        </tr>
                    </thead>

                    <tbody class="cf">
                        <% @rates.each do |rate| %>
                        <tr>
                            <td data-title="Origin"><%= rate.origin.port_code %>
                                |
                                <%= rate.origin.name %></td>
                            <td data-title="Destination"><%= rate.destination.port_code %>
                                |
                                <%= rate.destination.name %></td>
                            <td data-title="Carrier"><%= rate.carrier.name %></td>
                            <td data-title="Shipment Category"><%= rate.shipment_category.name %></td>
                            <td data-title="Cost"><%= number_to_currency(rate.cost) %></td>
                            <td data-title="Unit of Measure"><%= rate.unit_of_measure.name %></td>
                            <td data-title="Date Added"><%= rate.created_at.strftime("%d %b %y") %></td>

                            <td class="text-center"><%= link_to "<i class='glyphicon glyphicon-info-sign'></i>".html_safe, rate, class: "button info" %></td>

                            <td><%= link_to "<i class='glyphicon glyphicon-check'></i>".html_safe, edit_rate_path(rate), :class => "button edit" %>
                                <%= link_to "<i class='glyphicon glyphicon-remove-circle'></i>".html_safe, rate, method: :delete, data: { confirm: 'Are you sure?' }, :class => "button delete" %></td>


                        </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <%= link_to 'New Rate', new_rate_path, class: "btn btn-primary" %>
            <%= form_tag import_rates_path, multipart: true do %>
            <%= file_field_tag :file %>
            <%= submit_tag "Import Rates", class: "btn btn-info" %>
            <% end %>
        </div>
    </div>
</div>
